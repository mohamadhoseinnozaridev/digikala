(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1199],{26956:function(e,s,n){"use strict";n.d(s,{x:function(){return l}});var t=n(52322),i=n(57931),r=n(98780),a=n(52216),o=n(72677);function l(e){var s=e.className,n=e.likeCount,l=e.dislikeCount,c=e.onLike,u=e.onDislike,d=e.isComments,m=void 0!==d&&d,x=e.isLoadingLike,f=e.isLoadingDislike,h=e.isLike,p=e.isDislike,w=e.thumbsUpCroId,v=e.thumbsDownCroId,A=(0,o.d)("d-flex ai-center pt-3 color-500",s),N=(0,o.d)("text-body-2 ml-10-lg",{"d-none d-block-lg":!m}),q=(0,o.d)({"color-hint-text-success":h,"color-400":!h}),g=(0,o.d)({"color-hint-text-error":p,"color-400":!p}),b=(0,o.d)("mr-1",{"text-hint-success-text":h,"color-400":!h}),k=(0,o.d)("mr-1",{"color-hint-text-error":p,"color-400":!p});return(0,t.jsxs)("div",{className:A,children:[(0,t.jsxs)("p",{className:N,children:["آیا این ",m?"دیدگاه":"پاسخ"," مفید بود؟"]}),(0,t.jsxs)("div",{className:"mr-auto mr-0-lg d-flex ai-center",children:[(0,t.jsx)(i.z,{isLoading:x,onClick:c,color:"gray",mode:"link",size:"small",className:q,CROId:w,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:(0,a.U)(void 0===n?0:n)}),(0,t.jsx)(r.J,{icon:"thumbsUp",className:b,size:20,color:h?"success":"low-emphasis"})]})}),(0,t.jsxs)(i.z,{isLoading:f,onClick:u,color:"gray",mode:"link",removePadding:!0,className:g,CROId:v,children:[(0,t.jsx)("p",{children:(0,a.U)(void 0===l?0:l)}),(0,t.jsx)(r.J,{icon:"thumbsDown",className:k,size:20,color:p?"error":"low-emphasis"})]})]})]})}},55972:function(e,s,n){"use strict";n.d(s,{M:function(){return h}});var t=n(66383),i=n(52322),r=n(2784),a=n(57931),o=n(98723),l=n(72515),c=n(3463),u=n(11559),d=n(55059),m=n(45227),x=(0,n(1324).q)({type:m.XN.POST,url:function(e){var s=e.questionId;return"questions/".concat(s,"/answer/add/")},transformer:d.u,inputTransformer:function(e){return{answer:e.answer}}}),f=n(85009);function h(e){var s=e.answerModalData,n=e.onClose,d=s||{},m=d.isOpen,h=d.questionId,p=d.questionText,w=d.successCallback,v=(0,t.Z)((0,r.useState)(""),2),A=v[0],N=v[1],q=(0,t.Z)((0,r.useState)(!1),2),g=q[0],b=q[1],k=(0,u.Z)({apiMethod:x}),j=k.request,I=k.pending,L=function(){j({questionId:h,answer:A}).then(function(){n(),w()})};(0,r.useEffect)(function(){m&&N("")},[m]);var C=(0,r.useMemo)(function(){return(0,i.jsxs)("div",{className:"d-flex-lg ai-center jc-between",children:[(0,i.jsx)("div",{className:"w-full 50-lg pl-4-lg",children:(0,i.jsx)(a.z,{size:"large",onClick:L,className:"w-full",disabled:!g,isLoading:I,CROId:"pdp-submit-answer",children:"ثبت پاسخ"})}),(0,i.jsxs)("p",{className:"align-center mt-2 grow-1",children:["ثبت پاسخ به معنی موافقت با",(0,i.jsx)(o.r,{target:"_blank",to:c.m,className:"mx-1 color-secondary-500",children:"قوانین انتشار دیجی‌کالا"}),"است."]})]})},[L]);return(0,i.jsx)(l.Modal,{isFullScreen:!0,isOpen:m,onDismiss:n,headerTitle:"به این پرسش پاسخ دهید",footer:C,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-body-1 mb-4",children:p}),(0,i.jsx)(f.F,{label:"پاسخ",onChange:function(e){N(e)},handleCanSubmit:b,maxLength:500,resetValue:m})]})})}},47674:function(e,s,n){"use strict";n.d(s,{Q:function(){return N}});var t=n(66383),i=n(52322),r=n(2784),a=n(98780),o=n(72677),l=n(41435),c=n(57931),u=n(74607),d=n(70865),m=n(96670);function x(e){var s=e.openAnswerModal,n=e.buttonText,t=e.buttonProps,r=e.className;return(0,i.jsx)("div",{className:(0,o.d)("mr-10",r),children:(0,i.jsxs)(c.z,(0,m.Z)((0,d.Z)({mode:"text",size:"small",color:"secondary",onClick:s,className:"mt-3 color-secondary-500"},t),{children:[n,(0,i.jsx)(a.J,{icon:"chevronLeft",color:"secondary",size:16,className:"mx-2"})]}))})}var f=n(73739);function h(e){var s=e.className;return(0,i.jsx)(f.k,{className:s,icon:(0,i.jsx)(a.J,{icon:"infoOutline",size:20}),children:"پاسخ شما ثبت شد و پس از بررسی و تایید نمایش داده خواهد شد."})}function p(e){var s=e.answers,n=e.questionText,t=e.submitted,r=e.showAllAnswers,o=e.setShowAllAnswers,l=e.openAnswerModal,d=e.className;return r||1===s.length?(0,i.jsxs)("div",{className:d,children:[s.map(function(e){return(0,i.jsx)(u.s,{className:"br-list-vertical-no-padding",questionAnswer:e,questionText:n},e.questionAnswerId)}),t?(0,i.jsx)(h,{}):(0,i.jsx)(x,{className:"border-t mt-4",buttonText:"ثبت پاسخ جدید",openAnswerModal:l})]}):s.length>1?(0,i.jsxs)("div",{className:d,children:[(0,i.jsx)(u.s,{questionAnswer:s[0],questionText:n}),(0,i.jsxs)(c.z,{shape:"text",color:"secondary",onClick:function(){o(!0)},className:"mt-2 mb-3 pr-0 mr-10 font-bold color-secondary-500",children:["مشاهده‌ی پاسخ‌های دیگر",(0,i.jsx)(a.J,{icon:"expandMore",color:"secondary",className:"mx-2",size:24})]})]}):null}var w=n(89086);function v(e){var s=e.submitted,n=e.openAnswerModal,t=e.className;return s?(0,i.jsx)(h,{className:(0,o.d)("mt-4",t)}):(0,i.jsx)(x,{buttonText:"ثبت پاسخ‌",buttonProps:(0,w.t6)("pdp-answer"),className:(0,o.d)("border-t mt-4",t),openAnswerModal:n})}var A=(0,r.memo)(function(e){var s=e.answers,n=e.questionId,a=e.questionText,o=e.showAllAnswers,c=e.setShowAllAnswers,u=e.openAnswerModal,d=(0,t.Z)((0,r.useState)(!1),2),m=d[0],x=d[1],f=function(){x(!0)};(0,r.useEffect)(function(){},[m]);var h=function(){u({questionId:n,questionText:a,successCallback:f})};return(0,l.x)(s)?(0,i.jsx)(v,{submitted:m,openAnswerModal:h}):(0,i.jsx)(p,{answers:s,questionText:a,submitted:m,showAllAnswers:o,setShowAllAnswers:c,openAnswerModal:h})});function N(e){var s=e.className,n=e.question,l=e.openAnswerModal,c=n||{},u=c.questionAnswers,d=c.questionText,m=c.questionId,x=(0,t.Z)((0,r.useState)(!1),2),f=x[0],h=x[1];return(0,i.jsxs)("article",{className:(0,o.d)(s,"py-3"),children:[(0,i.jsxs)("div",{className:"d-flex ai-start",children:[(0,i.jsx)("span",{className:"mt-1 ml-4",children:(0,i.jsx)(a.J,{icon:"question",color:"secondary",size:24})}),(0,i.jsx)("p",{className:"text-subtitle w-full",children:d})]}),(0,i.jsx)(A,{questionId:m,answers:u,questionText:d,showAllAnswers:f,setShowAllAnswers:h,openAnswerModal:l})]})}},74607:function(e,s,n){"use strict";n.d(s,{s:function(){return j}});var t=n(66383),i=n(52322),r=n(2784),a=n(17165),o=n(45756),l=n(66781),c=n(82650),u=n(11559),d=n(41435),m=n(55059),x=n(45227),f=n(1324),h=n(12694),p=(0,f.q)({type:x.XN.POST,url:function(e){var s=e.answerId;return"answers/".concat(s,"/like/")},inputTransformer:function(e){var s=e.type;return(0,h.s)({type:s})},transformer:m.u}),w=n(26956),v=n(31969),A=n(98780),N=n(31909),q=n(61695),g=n(82332),b=n(72677);function k(e){var s=e.className,n=e.media,t=e.onClick,r=n.mediaUrl,a=n.mediaType,o=n.mediaThumbnailUrl,l=(0,g.t)(a,q.L.VIDEO);return(0,i.jsxs)("div",{className:(0,b.d)(s,"pos-relative pointer"),onClick:t,children:[(0,i.jsx)(N.E,{alt:"question-answer-media",src:l?o:r,radius:8,height:50,width:50}),l&&(0,i.jsx)(A.J,{size:24,className:"pos-absolute bottom-0 left-0",icon:"playSimple",color:"white"})]})}function j(e){var s=e.className,n=e.questionAnswer,m=e.questionText,x=e.isInDetailModal,f=n||{},h=f.questionAnswerId,A=f.questionAnswerText,N=f.questionAnswerType,q=f.questionAnswerSender,g=f.questionAnswerUserReaction,b=f.questionAnswerReactionsLikes,j=f.questionAnswerHasQABadge,I=f.questionAnswerReactionsDisLikes,L=f.questionAnswerMedias,C=(0,t.Z)((0,r.useState)(!![g].includes(v.d.LIKE)),2),y=C[0],_=C[1],T=(0,t.Z)((0,r.useState)(!![g].includes(v.d.DISLIKE)),2),S=T[0],D=T[1],R=(0,t.Z)((0,r.useState)({questionAnswerReactionsLikes:b,questionAnswerReactionsDisLikes:I}),2),E=R[0],z=R[1],M=function(e){z({questionAnswerReactionsLikes:null==e?void 0:e.likes,questionAnswerReactionsDisLikes:null==e?void 0:e.dislikes}),n.questionAnswerReactionsDisLikes=null==e?void 0:e.dislikes,n.questionAnswerReactionsLikes=null==e?void 0:e.likes},P=(0,u.E)({apiMethod:p,onSuccess:M}),U=P.request,Z=P.pending,K=(0,u.E)({apiMethod:p,onSuccess:M}),O=K.request,H=K.pending,J=(0,c.z)().emit,F=function(){return J(l.P8,{questionAnswer:n,questionText:m})};return(0,i.jsxs)("div",{className:s,children:[(0,i.jsxs)("div",{className:"d-flex ai-center mt-4 color-600",children:[(0,i.jsx)("p",{className:"text-caption ml-4",children:"پاسخ"}),(0,i.jsx)("div",{className:"grow-1",children:(0,i.jsx)("p",{className:"text-body-1",children:A})})]}),(0,i.jsxs)("div",{className:"d-flex flex-column jc-center mr-10",children:[!x&&!(0,d.x)(L)&&(0,i.jsx)("div",{className:"d-flex flex-wrap gap-2 mt-3 mb-3-lg mb-4",children:L.map(function(e){return(0,i.jsx)(k,{media:e,onClick:F})})}),(0,i.jsx)("p",{className:"text-caption color-400",children:q}),j?(0,i.jsx)(a.C,{size:"small",text:"نماینده برند",className:"mr-2",textClasses:"color-000",bgColor:"neutral-400"}):"buyer"===N?(0,i.jsx)(a.C,{size:"small",text:"خریدار",className:"mr-2",textClasses:"color-500",bgColor:"app-background"}):null,(0,i.jsx)(w.x,{onLike:function(){U({type:v.d.LIKE,answerId:h}).then(function(e){e.likes>E.questionAnswerReactionsLikes?(_(!0),n.questionAnswerUserReaction=v.d.LIKE):(_(!1),n.questionAnswerUserReaction="")}).finally(function(){D(!1)})},isLike:y,className:"mr-auto",onDislike:function(){O({answerId:h,type:v.d.DISLIKE}).then(function(e){e.dislikes>E.questionAnswerReactionsDisLikes?(D(!0),n.questionAnswerUserReaction=v.d.DISLIKE):(D(!1),n.questionAnswerUserReaction="")}).finally(function(){_(!1)})},isDislike:S,isLoadingLike:Z,isLoadingDislike:H,likeCount:null==E?void 0:E.questionAnswerReactionsLikes,dislikeCount:null==E?void 0:E.questionAnswerReactionsDisLikes,thumbsUpCroId:o.h.PDP_QUESTION_LIKE,thumbsDownCroId:o.h.PDP_QUESTION_DISLIKE})]})]})}},85009:function(e,s,n){"use strict";n.d(s,{F:function(){return l}});var t=n(66383),i=n(52322),r=n(2784),a=n(47),o=n(52216),l=(0,r.forwardRef)(function(e,s){var n=e.label,l=e.onChange,c=e.maxLength,u=e.className,d=e.handleCanSubmit,m=e.resetValue,x=void 0===m||m,f=(0,t.Z)((0,r.useState)(""),2),h=f[0],p=f[1];(0,r.useImperativeHandle)(s,function(){return{resetInput:w}},[]),(0,r.useEffect)(function(){d(h.length>0&&h.length<=c&&h.trim().length>6),l&&l(h)},[h,c]),(0,r.useEffect)(function(){x&&p("")},[x]);var w=function(){p("")};return(0,i.jsxs)("div",{className:u,children:[(0,i.jsx)(a.K,{value:h,label:n,maxLength:c,onChange:function(e){p(e.target.value)},className:"text-body-2 w-full"}),(0,i.jsxs)("div",{className:"color-400 text-body-2 mr-4 align-left",children:[(0,o.U)(c),"/",(0,o.U)(h.length)]})]})})},31969:function(e,s,n){"use strict";n.d(s,{d:function(){return t}});var t={LIKE:"like",DISLIKE:"dislike"}},55059:function(e,s,n){"use strict";function t(e){var s=e.data||{};return{dislikes:s.dislikes,likes:s.likes}}n.d(s,{u:function(){return t}})},47:function(e,s,n){"use strict";n.d(s,{K:function(){return x}});var t=n(70865),i=n(52322),r=n(96670),a=n(26297),o=n(2784),l=n(9280),c=n(471),u=n(50158),d=n.n(u),m=(0,o.forwardRef)(function(e,s){var n=e.name,o=e.label,u=e.size,m=e.disabled,x=e.required,f=e.error,h=e.helper,p=e.successPhrase,w=e.fullWidth,v=e.placeholder,A=e.containerClassName,N=e.textareaClassName,q=e.className,g=(0,a.Z)(e,["name","label","size","disabled","required","error","helper","successPhrase","fullWidth","placeholder","containerClassName","textareaClassName","className"]);return(0,i.jsx)(l.Z,{size:u,label:o,disabled:m,required:x,error:f,helper:h,successPhrase:p,fullWidth:w,containerClassName:(0,c.dh)("px-2 bg-100 bg-000-lg",d().TextareaInput__container,d().TextareaInput__frameHeightAuto,A),labelClassName:"mr-4 text-body-1 color-700",helperClassName:"mt-2 pr-3 text-body-1 color-400",errorClassName:"mt-2 pr-3 text-body-2 color-hint-text-error",requiredClassName:"color-primary-500",className:q,children:(0,i.jsx)("textarea",(0,r.Z)((0,t.Z)({},g),{className:(0,c.dh)("py-2 px-3 text-subtitle w-100",d().TextareaInput__textarea,N),name:n,disabled:m,onKeyDown:function(e){if(""===e.target.value.trim()){e.target.style.height="auto";return}e.target.style.height="".concat(e.target.scrollHeight,"px")},placeholder:v,ref:s}))})});function x(e){return(0,i.jsx)(m,(0,t.Z)({},e))}},82650:function(e,s,n){"use strict";n.d(s,{z:function(){return t.zX}});var t=n(88885)},45507:function(e,s,n){"use strict";n.d(s,{v:function(){return i}});var t=n(95976);function i(e){var s=e.data||{},n=s.id,i=s.text,r=s.answer_count,a=s.sender,o=s.created_at,l=s.answers;return{questionId:n,questionText:i,questionAnswerCount:r,questionSender:a,questionCreatedAt:o,questionAnswers:null==l?void 0:l.map(function(e){var s,n,i,r,a,o,l,c,u,d,m,x,f,h;return i=(n=e||{}).id,r=n.has_qa_badge,a=n.text,o=n.reactions,l=n.created_at,c=n.sender,u=n.type,d=n.user_reaction,m=n.files,f=(x=o||{}).likes,h=x.dislikes,{questionAnswerId:i,questionAnswerHasQABadge:!!r,questionAnswerText:a,questionAnswerReactions:{likes:(s=o||{}).likes,dislikes:s.dislikes},questionAnswerCreatedAt:l,questionAnswerSender:c,questionAnswerType:u,questionAnswerUserReaction:d,questionAnswerMedias:(void 0===m?[]:m).map(function(e){return(0,t.w)({data:e})}),questionAnswerReactionsLikes:f,questionAnswerReactionsDisLikes:h}})}}},95976:function(e,s,n){"use strict";n.d(s,{w:function(){return i}});var t=n(61695);function i(e){var s=e.data||{},n=s.storage_ids,i=s.url,r=s.temporary_id,a=s.thumbnail_url;return{mediaStorageIds:n||[],mediaUrl:null==i?void 0:i[0],mediaTemporaryId:r,mediaThumbnailUrl:(null==a?void 0:a[0])||"",mediaType:function(e){var s,n,i,r;if(!e)return t.L.UNKNOWN;switch(null===(s=/(\w+)\.([1-9A-Za-z]{3,4})(?=\?|$)/.exec(e))||void 0===s?void 0:null===(n=s.slice)||void 0===n?void 0:null===(i=n.call(s,-1))||void 0===i?void 0:null===(r=i[0])||void 0===r?void 0:r.toLowerCase()){case"jpg":case"jpeg":case"svg":case"png":return t.L.IMAGE;case"mp4":case"mkv":case"webm":return t.L.VIDEO;default:return t.L.UNKNOWN}}(null==i?void 0:i[0])}}},41701:function(e,s,n){"use strict";function t(e){var s=e.component,n=e.getAPIMethods,t=e.layoutProps,i=e.isPrivate,r=e.noDefaultLoader,a=e.pageActivatorFeature,o=e.redirectIfLogin,l=e.afterLogin,c=e.disableSSR,u=e.dataProps;return s.getAPIMethods=n,s.layoutProps=t,s.isPrivate=i,s.noDefaultLoader=r,s.pageActivatorFeature=a,s.redirectIfLogin=o,s.afterLogin=l,s.disableSSR=c,s.dataProps=u,s}n.d(s,{D:function(){return t}})},50158:function(e){e.exports={TextareaInput__textarea:"styles_TextareaInput__textarea__khhNw",TextareaInput__container:"styles_TextareaInput__container__P2qv5",TextareaInput__frameHeightAuto:"styles_TextareaInput__frameHeightAuto__RoBbE"}}}]);