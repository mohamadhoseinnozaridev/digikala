(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9342],{36460:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/page/bug-report",function(){return t(271)}])},271:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return X}});var a=t(66383),o=t(52322),l=t(2784),n=t(97729),s=t.n(n),i=t(41701),c=t(98661),m=t(70865),u=t(96670),d=t(43997),p=t(57931),f=t(16137),x=t(62727),g=t(47072),h=t(38442),y=t(27768),v=t(11559),N=t(90247),b=t(6013),_=t(75490),j=t(49291),C=t(72677),w=t(45227),I=t(1324),T=(0,I.q)({type:w.XN.POST,url:"bug-report/submit/",inputTransformer:function(e){var r=e.title,t=e.platform,a=e.comment,o=e.steps,l=e.email,n=e.fullName,s=e.temporaryMediaIds,i=e.suggestion;return{title:r,platform:t,comment:a,steps:o,email:l,full_name:n,temporary_media_ids:s,type:e.type,suggestion:i}}}),P=(0,I.q)({type:w.XN.POST,url:"media/upload/bug-reports/",inputTransformer:function(e){return e.formData},transformer:function(e){var r=(e.data||{}).temporary_media;return{temporaryMediaTemporaryId:null==r?void 0:r.temporary_id}},options:{headers:{"Content-Type":"multipart/form-data"},timeout:18e4}}),F={SECURITY_ISSUE:"security_issue",BUG:"bug"},q=t(72251),B=t(72873),M=(0,I.q)({url:"bug-report/",transformer:function(e){var r,t=(e.data||{}).platforms;return{platforms:null===(r=Object.keys(t||{}))||void 0===r?void 0:r.map(function(e){return{platformLabel:null==t?void 0:t[e],platformValue:e}})}}});function S(e){var r,t=e.error,a=e.value,l=e.handleDropdown,n=e.label,s=e.className,i=(0,B.V)({apiMethod:M}).data;return(0,o.jsx)("div",{className:s,children:(0,o.jsx)(q.vb,{value:a,placeholder:"موضوع را انتخاب کنید",label:void 0===n?"موضوع":n,error:t,onSelect:l,required:!0,children:null==i?void 0:null===(r=i.platforms)||void 0===r?void 0:r.map(function(e){var r=e.platformLabel,t=e.platformValue;return(0,o.jsx)(q.bK,{value:t,children:r},t)})})})}var k=t(6133),U=t.n(k);function E(e){var r=e.type,t=e.title,n=(0,a.Z)((0,l.useState)([]),2),s=n[0],i=n[1],c=(0,N.c)(),w=c.ref,I=c.states,q=c.formHandlers,B=c.submit,M=c.reset,k=c.setValue,E=I.isDirty,D=(0,d.v9)(b.p.userInfo),H=(0,v.E)({apiMethod:T}),L=H.request,O=H.pending,Z=function(e){i(e)},V=function(e){k("platform",e)},z=(0,l.useMemo)(function(){return r===F.SECURITY_ISSUE?[{component:(0,o.jsx)(x.n,{labelClassName:"text-body-1",requiredClassName:"color-primary-500 mr-1",errorClassName:"color-hint-text-error text-body-2",className:(0,C.d)("mt-4 w-full",U().BugInfoForm__formInput),inputProps:{type:"email"},label:"ایمیل شما",required:!0}),defaultValue:null==D?void 0:D.userEmail,name:"email",rules:{required:y.Qt,validate:j.D6}},{component:(0,o.jsx)(x.n,{labelClassName:"text-body-1",requiredClassName:"color-primary-500 mr-1",errorClassName:"color-hint-text-error text-body-2",className:(0,C.d)("mt-4 mr-4-lg w-full",U().BugInfoForm__formInput),inputProps:{type:"tel"},label:"تلفن"}),defaultValue:null==D?void 0:D.userPhone,name:"mobile",rules:{validate:j.uC}},{component:(0,o.jsx)(S,{label:"سامانه آسیب‌پذیر",handleDropdown:V,className:(0,C.d)("mt-4 w-full",U().BugInfoForm__formInput)}),name:"platform",rules:{required:y.PT}},{component:(0,o.jsx)(x.n,{labelClassName:"text-body-1",requiredClassName:"color-primary-500 mr-1",errorClassName:"color-hint-text-error text-body-2",className:(0,C.d)("mt-4 mr-4-lg w-full",U().BugInfoForm__formInput),label:"عنوان آسیب‌پذیری",required:!0}),name:"title",rules:{required:y.PT}},{component:(0,o.jsx)(x.n,{labelClassName:"text-body-1",requiredClassName:"color-primary-500 mr-1",errorClassName:"color-hint-text-error text-body-2",className:"mt-4 w-full",label:"شرح آسیب پذیری",inputProps:{rows:4},required:!0,isTextarea:!0}),name:"comment",rules:{required:y.PT}},{component:(0,o.jsx)(x.n,{labelClassName:"text-body-1",requiredClassName:"color-primary-500 mr-1",errorClassName:"color-hint-text-error text-body-2",className:"mt-4 w-full",label:"روش بازتولید",placeholder:"چگونه خطا را ایجاد کنیم",inputProps:{rows:4},required:!0,isTextarea:!0}),name:"steps",rules:{required:y.PT}},{component:(0,o.jsx)(x.n,{labelClassName:"text-body-1",errorClassName:"color-hint-text-error text-body-2",className:"mt-4 w-full",label:"پیشنهاد جهت رفع آسیب‌پذیری",inputProps:{rows:4},isTextarea:!0}),name:"suggestion"},{component:(0,o.jsx)(h.V,{apiMethod:P,maxFiles:5,onFinish:Z,className:"w-100 mt-4",uploadDescription:"حداکثر ۵ تصویر jpeg یا PNG حداکثر یک مگابایت، یک ویدیو MP4 حداکثر ۵۰ مگابایت یا یک فایل Zip",uploadButtonText:"افزودن مستندات (POC ،Evidence)",acceptedTypes:".zip, .mp4"}),name:"secFileUploader",defaultValue:[]}]:r===F.BUG?[{component:(0,o.jsx)(x.n,{labelClassName:"text-body-1",requiredClassName:"color-primary-500 mr-1",errorClassName:"color-hint-text-error text-body-2",className:(0,C.d)("w-full",U().BugInfoForm__formInput),label:"عنوان",required:!0}),name:"title",rules:{required:y.PT}},{component:(0,o.jsx)(S,{handleDropdown:V,className:(0,C.d)("mr-4-lg mt-4 mt-0-lg w-full",U().BugInfoForm__formInput)}),name:"platform",rules:{required:y.PT}},{component:(0,o.jsx)(x.n,{labelClassName:"text-body-1",requiredClassName:"color-primary-500 mr-1",errorClassName:"color-hint-text-error text-body-2",className:(0,C.d)("mt-4 w-full",U().BugInfoForm__formInput),label:"توضیح",inputProps:{rows:4},required:!0,isTextarea:!0}),name:"comment",rules:{required:y.PT}},{component:(0,o.jsx)(x.n,{labelClassName:"text-body-1",requiredClassName:"color-primary-500 mr-1",errorClassName:"color-hint-text-error text-body-2",className:(0,C.d)("mt-4 mr-4-lg w-full",U().BugInfoForm__formInput),label:"مراحل ایجاد خطا",placeholder:"چگونه خطا را ایجاد کنیم",inputProps:{rows:4},required:!0,isTextarea:!0}),name:"steps",rules:{required:y.PT}},{component:(0,o.jsx)(h.V,{apiMethod:P,maxFiles:5,onFinish:Z,className:"w-100 mt-4",uploadDescription:"حداکثر ۵ تصویر jpeg یا PNG حداکثر یک مگابایت، یک ویدیو MP4 حداکثر ۵۰ مگابایت یا یک فایل Zip",uploadButtonText:"افزودن مستندات (POC ،Evidence)",acceptedTypes:".mp4"}),name:"techFileUploader",defaultValue:[]},{component:(0,o.jsx)(x.n,{labelClassName:"text-body-1",requiredClassName:"color-primary-500 mr-1",errorClassName:"color-hint-text-error text-body-2",className:(0,C.d)("mt-4 w-full",U().BugInfoForm__formInput),label:"نام شما",placeholder:"نام و نام‌خانوادگی خود را بنویسید",required:!0}),defaultValue:null==D?void 0:D.userName,name:"fullName",rules:{required:y.PT}},{component:(0,o.jsx)(x.n,{labelClassName:"text-body-1",requiredClassName:"color-primary-500 mr-1",errorClassName:"color-hint-text-error text-body-2",className:(0,C.d)("mt-4 mr-4-lg w-full",U().BugInfoForm__formInput),inputProps:{type:"email"},label:"ایمیل",required:!0}),defaultValue:null==D?void 0:D.userEmail,name:"email",rules:{required:y.Qt,validate:j.D6}}]:void 0},[r]);return(0,o.jsxs)("div",{className:(0,C.d)("mx-auto pb-5 pt-6 px-4 px-0-lg",U().BugInfoForm),children:[(0,o.jsx)(g.D,{titleClassName:"text-h5",title:t,description:"لطفا فرم زیر را تکمیل کنید"}),(0,o.jsx)(f.l,{ref:w,formHandlers:q,useFormProps:{reValidateMode:"onChange"},onSubmit:function(e){var t=(0,u.Z)((0,m.Z)({},e),{type:r});L((0,u.Z)((0,m.Z)({},t),{temporaryMediaIds:s})).then(function(){(0,_.p)({message:"پیام شما با موفقیت ثبت شد"}),M({email:null==D?void 0:D.userEmail,phone:null==D?void 0:D.userPhone,platform:"",title:"",comment:"",steps:"",suggestion:""})})},items:z}),(0,o.jsxs)("div",{className:"d-flex flex-column flex-row-lg mt-9 ai-center",children:[(0,o.jsx)(p.z,{size:"large",className:(0,C.d)("flex-grow-1 w-full ml-4-lg",U().BugInfoForm__formButton),onClick:function(){B()},color:"primary",disabled:O||!E,isLoading:O,children:"تائید و ارسال"}),(0,o.jsx)("p",{className:"flex-grow-1 text-body-1 color-400 mt-4 mt-0-lg",children:"با ارسال این گزارش اعلام می‌کنید قوانین مرتبط با گزارش خطا را که در پایین صفحه بیان شده پذیرفته‌اید."})]})]})}function D(){return(0,o.jsx)("div",{className:"pt-5 pb-6 bg-100",children:(0,o.jsxs)("div",{className:"container-md-w container-xl-w-lg mx-auto px-6-lg",children:[(0,o.jsx)("h4",{className:"text-h4 pb-4 color-700 mx-5 mx-auto-lg",children:"شرایط و قوانین"}),(0,o.jsxs)("p",{className:"text-body-1 color-600 mx-5 mx-auto-lg",children:["با توجه به اهمیت خطای گزارش شده از سوی شما، دیجی‌کالا به پاس قدردانی هدیه‌ای برای شما در نظر خواهد گرفت. توجه داشته باشید بعضی از مشکلات به دلیل کم اهمیت بودن شامل هدیه نخواهند بود.",(0,o.jsx)("br",{})," لطفا توجه داشته باشید قبل از برطرف شدن خطای گزارش شده، هیچگونه اطلاعاتی در مورد آن را عمومی نکرده یا با دیگران به اشتراک نگذارید. بدون رضایت افراد با حساب کاربری آن‌ها تعاملی نداشته باشید و از شکستن حریم شخصی افراد و ایجاد مشکل در اطلاعات دیگران اجتناب کنید. همچنین به هیچ عنوان از مشکلات امنیتی‌ای که یافته‌اید، بهره‌برداری و سوءاستفاده نکنید و به قوانین کشور پایبند باشید."]})]})})}var H=t(59437),L=t(31909),O=t(3463),Z=t(64781),V=t.n(Z);function z(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:(0,C.d)("w-full py-10 py-13-lg px-5",V().Hero),children:(0,o.jsx)("div",{className:(0,C.d)("d-flex ai-start flex-column container-lg-w mx-auto",V().Hero__banner),children:(0,o.jsx)(H.e,{href:O.ws,children:(0,o.jsx)(L.E,{className:"mx-auto mr-0-lg ",src:"/statics/img/svg/Digikala-Logo-white-fa.svg",width:160})})})}),(0,o.jsx)("div",{className:(0,C.d)("w-full text-body-1 color-000 align-center px-5 pt-2 pb-2 pb-3-md pb-2-lg mx-auto",V().Hero__contactUs),children:(0,o.jsxs)("div",{className:"container-lg-w align-center mx-auto",children:["لطفا مشکلات مربوط به سفارش خود را از طریق فرم\xa0",(0,o.jsx)(H.e,{href:O.dT,className:(0,C.d)("pointer color-000",V()["Hero__contactUs--dashed"]),target:"_blank",children:"تماس با ما"}),"\xa0گزارش کنید. مشکلات سفارش‌ در در فرم زیر رسیدگی نخواهد شد."]})})]})}var R=t(98780);function A(e){var r=e.icon,t=e.title,a=e.className,l=e.onClick;return(0,o.jsxs)("div",{className:(0,C.d)("d-flex flex-row jc-between ai-center pointer radius-medium border-200",a),onClick:l,children:[(0,o.jsxs)("div",{className:"d-flex jc-between ai-center",children:[(0,o.jsx)("div",{className:"mx-5",children:(0,o.jsx)(R.J,{icon:r,color:"primary",size:24})}),(0,o.jsx)("div",{className:"text-subtitle-strong color-700",children:t})]}),(0,o.jsx)(R.J,{icon:"chevronLeft",size:24})]})}function G(e){var r=e.handleOpenTechnicalBug,t=e.handleOpenSecurityBug;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"mx-5 my-5 d-none-lg",children:[(0,o.jsx)("h6",{className:"text-h4 color-600",children:"گزارش خطا"}),(0,o.jsx)("p",{className:"text-body-strong color-600",children:"لطفا یکی از موارد زیر را انتخاب نمایید."})]}),(0,o.jsxs)("div",{className:"d-grid grid-cols-1 grid-cols-2-lg gap-6 px-2-lg py-6-lg px-5 pb-5",children:[(0,o.jsx)(H.e,{mode:"link",href:O.dT,children:(0,o.jsx)(A,{className:"py-4 px-3",icon:"repurchase",title:"درخواست مرجوعی"})}),(0,o.jsx)(H.e,{mode:"link",href:O.dT,children:(0,o.jsx)(A,{className:"py-4 px-3",icon:"clubCoinOutline",title:"مشکل در امتیاز دیجی‌کلاب"})}),(0,o.jsx)(H.e,{mode:"link",href:O.dT,children:(0,o.jsx)(A,{className:"py-4 px-3",icon:"order",title:"پیگیری سفارش و بازگشت وجه"})}),(0,o.jsx)(H.e,{mode:"link",href:O.dT,children:(0,o.jsx)(A,{className:"py-4 px-3",icon:"feedback",title:"انتقادات و پیشنهادات"})}),(0,o.jsx)(H.e,{mode:"link",href:O.hE,children:(0,o.jsx)(A,{className:"py-4 px-3",icon:"question",title:"سوالات متداول"})}),(0,o.jsx)(A,{className:"py-4 px-3 w-full",onClick:r,icon:"tools",title:"گزارش خطای فنی"}),(0,o.jsx)(A,{className:"py-4 px-3 w-full",onClick:t,icon:"bug",title:"گزارش آسیب‌پذیری امنیتی"})]})]})}var X=(0,i.D)({component:function(){var e=(0,a.Z)((0,l.useState)(!1),2),r=e[0],t=e[1],n=(0,a.Z)((0,l.useState)(!1),2),i=n[0],m=n[1];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s(),{children:(0,o.jsx)("title",{children:(0,c.t)({title:"گزارش خطا"})})}),(0,o.jsx)(z,{}),(0,o.jsx)("div",{className:"container-md-w container-xl-w-lg mx-auto px-4",children:r?(0,o.jsx)(E,{title:"گزارش خطا",type:F.BUG}):i?(0,o.jsx)(E,{title:"گزارش آسیب‌پذیری‌های امنیتی",type:F.SECURITY_ISSUE}):(0,o.jsx)(G,{handleOpenTechnicalBug:function(){t(!0)},handleOpenSecurityBug:function(){m(!0)}})}),(0,o.jsx)(D,{})]})},layoutProps:{desktopHasHeader:!1,desktopHasFooter:!1,hasMobileHeader:!1,mobileHasFooter:!1,noContentPadding:!0,desktopFullWidth:!0,footerMarginTop:0,useCustomDarkFooter:!0}})},10014:function(e,r,t){"use strict";t.d(r,{b:function(){return u}});var a=t(66383),o=t(52322),l=t(2784),n=t(31909),s=t(11559),i=t(75490),c=t(52216),m=t(72677);function u(e){var r=e.inputTypeAccept,t=e.onChange,u=e.onProgress,d=e.url,p=e.apiMethod,f=e.CTAComponent,x=e.PendingComponent,g=e.returnId,h=e.filesLength,y=e.maxFiles,v=e.className,N=(0,a.Z)((0,l.useState)(0),2),b=N[0],_=N[1],j=(0,a.Z)((0,l.useState)(d),2),C=j[0],w=j[1],I=(0,s.E)({apiMethod:p,onUploadProgressCallback:function(e){_(Math.round(e.loaded/e.total*100))}}),T=I.request,P=I.pending;return(0,l.useEffect)(function(){null==u||u(b)},[b]),(0,o.jsxs)("label",{className:(0,m.d)("d-flex ai-center jc-center flex-column radius pointer h-100",v),children:[!P&&(0,o.jsx)("input",{type:"file",className:"d-none",accept:r,onChange:function(e){if(!P){if(h>=y)(0,i.p)({message:"حداکثر تعداد مجاز عکس‌ها ".concat((0,c.U)(y)," عدد می‌باشد.")});else{var r,a,o=new FormData;o.append("file",null==e?void 0:null===(r=e.target)||void 0===r?void 0:null===(a=r.files)||void 0===a?void 0:a[0]),T({formData:o,id:g}).then(function(r){w(null==r?void 0:r.url),null==t||t({e:e,temporaryMediaTemporaryId:r.temporaryMediaTemporaryId})})}}}}),C&&(0,o.jsx)(n.E,{src:C,radius:8,objectFit:"cover",className:"h-100 w-100",imageClassName:"h-100 w-100"}),P&&b>0&&x?x:f]})}},38442:function(e,r,t){"use strict";t.d(r,{V:function(){return f}});var a=t(50930),o=t(52322),l=t(2784),n=t(72677),s=t(57931),i=t(10014),c=t(31909),m=t(98780);function u(e){var r,t=e.src,a=e.name,l=e.clearFile,s=e.temporaryMediaTemporaryId,i=e.type,u=e.className;switch(i){case"application/zip":r="/statics/img/svg/zip.svg";break;case"video/mp4":r="/statics/img/svg/video.svg";break;default:r=t}return(0,o.jsxs)("div",{className:(0,n.d)("pos-relative mr-2",u),children:[(0,o.jsx)(c.E,{width:64,height:64,src:r,alt:a}),(0,o.jsx)("div",{className:"top-0 right-0 pos-absolute pointer",onClick:function(e){return l(e,s)},children:(0,o.jsx)(m.J,{icon:"clear",size:20,className:"bg-000 radius-circle"})})]})}var d=t(70652),p=t.n(d);function f(e){var r=e.maxFiles,t=e.onFinish,c=e.apiMethod,m=e.className,d=e.acceptedTypes,f=e.customCTA,x=e.uploadDescription,g=e.uploadButtonText,h=e.onChange,y=e.value,v=(0,l.useCallback)(function(e){var r=e.e,t=e.temporaryMediaTemporaryId,o=(0,a.Z)(r.target.files).map(function(e){return Object.assign(e,{preview:URL.createObjectURL(e),temporaryMediaTemporaryId:t})});h(function(e){return(0,a.Z)(e).concat((0,a.Z)(o))})},[]),N=(0,l.useCallback)(function(e,r){h(function(e){return e.filter(function(e){return e.temporaryMediaTemporaryId!==r})})},[]);return(0,l.useEffect)(function(){return function(){var e=!0,r=!1,t=void 0;if(y)try{for(var a,o=y[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var l=a.value;URL.revokeObjectURL(null==l?void 0:l.preview)}}catch(n){r=!0,t=n}finally{try{e||null==o.return||o.return()}finally{if(r)throw t}}}},[y]),(0,l.useEffect)(function(){t(null==y?void 0:y.map(function(e){return e.temporaryMediaTemporaryId}))},[y]),(0,o.jsxs)("div",{className:(0,n.d)("py-5 px-4 radius-medium h-full",p().StaticPageFileUploader,m),children:[(0,o.jsx)("p",{className:"text-caption color-hint-text-neutral align-center",children:void 0===x?"حداکثر ۵ تصویر jpeg یا PNG حداکثر یک مگابایت، یک ویدیو MP4 حداکثر ۵۰ مگابایت":x}),(0,o.jsx)("div",{className:"d-flex jc-center flex-wrap gap-4 my-4",children:null==y?void 0:y.map(function(e){return(0,o.jsx)(u,{src:e.preview,name:e.name,temporaryMediaTemporaryId:e.temporaryMediaTemporaryId,clearFile:N,type:e.type},e.preview)})}),(0,o.jsx)(i.b,{inputTypeAccept:"image/png, image/gif, image/jpeg, ".concat(void 0===d?"":d),onChange:v,onDelete:N,url:"",onFinish:t,apiMethod:c,maxFiles:void 0===r?5:r,filesLength:(null==y?void 0:y.length)||0,className:"w-100",CTAComponent:f||(0,o.jsx)(s.z,{className:"mx-auto mt-2",size:"medium",mode:"outlined",color:"red",tag:"div",prependIcon:"fileTransferUpload",children:void 0===g?"افزودن عکس یا ویدئو":g})})]})}},41701:function(e,r,t){"use strict";function a(e){var r=e.component,t=e.getAPIMethods,a=e.layoutProps,o=e.isPrivate,l=e.noDefaultLoader,n=e.pageActivatorFeature,s=e.redirectIfLogin,i=e.afterLogin,c=e.disableSSR,m=e.dataProps;return r.getAPIMethods=t,r.layoutProps=a,r.isPrivate=o,r.noDefaultLoader=l,r.pageActivatorFeature=n,r.redirectIfLogin=s,r.afterLogin=i,r.disableSSR=c,r.dataProps=m,r}t.d(r,{D:function(){return a}})},98661:function(e,r,t){"use strict";function a(e){var r=e.title,t=void 0===r?"":r,a=e.suffix,o=void 0===a?"":a,l=e.prefix,n=void 0===l?"":l;return"".concat(n?"".concat(n," - "):"","دیجی‌کالا").concat(t?" - ".concat(t):"").concat(o?" - ".concat(o):"")}t.d(r,{t:function(){return a}})},6133:function(e){e.exports={BugInfoForm:"styles_BugInfoForm__NYrhX",BugInfoForm__formInput:"styles_BugInfoForm__formInput___rois",BugInfoForm__formButton:"styles_BugInfoForm__formButton__Xmaad"}},64781:function(e){e.exports={Hero:"styles_Hero__fS_cI",Hero__body:"styles_Hero__body__1RnHU",Hero__contactUs:"styles_Hero__contactUs__fYJBZ","Hero__contactUs--dashed":"styles_Hero__contactUs--dashed___SBlJ"}},70652:function(e){e.exports={StaticPageFileUploader:"static-page-file-uploader_StaticPageFileUploader__wG3M0"}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=36460)}),_N_E=e.O()}]);