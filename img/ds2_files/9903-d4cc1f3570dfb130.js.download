(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9903],{99903:function(e,i,s){"use strict";s.r(i),s.d(i,{DigiplusSubscriptionModal:function(){return H}});var l=s(66383),t=s(52322),n=s(2784),a=s(72515),c=s(83590),r=s(45756),d=s(72873),o=s(64177),p=s(41435),u=s(72677),v=s(12978),m=(0,s(1324).q)({url:"/digiplus/plans/",inputTransformer:function(e){return{hide_direct_debit:e.isHideDirectDebit}},transformer:function(e){var i,s=e.data||{},l=s.plans,t=s.services;return{plans:null==l?void 0:null===(i=l.map)||void 0===i?void 0:i.call(l,function(e){return(0,v.G)({data:e})}),services:null==t?void 0:t.map(function(e){var i;return{serviceTitle:(i=e||{}).title,serviceIcon:i.image,serviceDescription:i.desc}})}}}),x=s(73739);function g(e){var i=e.title,s=e.description;return(0,t.jsx)(x.k,{icon:"infoOutline",className:"mb-2 mt-3 p-3",leftSlot:(0,t.jsx)("p",{className:"color-500 text-body-2 mr-10",children:s}),children:(0,t.jsx)("div",{className:"d-flex jc-between ai-start w-100",children:(0,t.jsx)("div",{className:"text-subtitle-strong color-700 mt-1",children:i})})})}var f=s(98780),b=s(5185),h=s(3463),j=s(72762),N=s(26168);function _(e){var i=e.planId,s=e.price,l=e.className,n=e.pending;return(0,t.jsxs)("div",{className:(0,u.d)("w-full user-select-none",l),children:[(0,t.jsxs)("div",{className:"d-flex ai-center jc-between",children:[(0,t.jsx)(N.m,{size:"large",disabled:!i||void 0!==n&&n,to:(0,h.py)({type:b.Rd.PLUS,id:i}),className:"w-50",CROId:r.h.PLUS_ON_MODAL_ADD,children:"خرید اشتراک"}),(0,t.jsxs)("div",{className:"d-flex flex-column ai-end",children:[(0,t.jsx)("p",{className:"text-caption color-600",children:"مجموع هزینه اشتراک"}),(0,t.jsxs)("div",{className:"d-flex ai-center color-800 text-subtitle-strong",children:[(0,j.j)(void 0===s?0:s),(0,t.jsx)(f.J,{icon:"toman",size:18,className:"mr-2"})]})]})]}),(0,t.jsxs)("div",{className:"w-full mt-2 text-caption color-500 align-center d-flex ai-center jc-center",children:[(0,t.jsx)(f.J,{icon:"infoOutline",size:18,color:"gray",className:"ml-2"}),"به مبالغ فوق ٪۹ بابت مالیات بر ارزش افزوده اضافه می‌شود."]})]})}var I=s(57394),D=s(3417),w=s(74740);function S(e){var i=e.planId,s=e.price,l=e.className,n=e.pending,a=e.onCloseModal,c=e.onAddSubscriptionCallback,d=(0,I.J)({action:D.o_}),o=d.request,p=d.pending;return(0,t.jsxs)("div",{className:(0,u.d)("w-full user-select-none",l),children:[(0,t.jsxs)("div",{className:"d-flex ai-center jc-between",children:[(0,t.jsx)(N.m,{size:"large",disabled:!i||n||p,CROId:r.h.PLUS_ON_MODAL_ADD_TO_CART,onClick:function(){o({planId:i}).then(function(){(0,w.m)(c)&&c(),(0,w.m)(a)&&a()})},className:"w-50",children:"افزودن به سبد خرید"}),(0,t.jsxs)("div",{className:"d-flex flex-column ai-end",children:[(0,t.jsx)("p",{className:"text-caption color-600",children:"مجموع هزینه اشتراک"}),(0,t.jsxs)("div",{className:"d-flex ai-center color-800 text-subtitle-strong",children:[(0,j.j)(void 0===s?0:s),(0,t.jsx)(f.J,{icon:"toman",size:18,className:"mr-2"})]})]})]}),(0,t.jsxs)("div",{className:"w-full mt-2 text-caption color-500 align-center d-flex ai-center jc-center",children:[(0,t.jsx)(f.J,{icon:"infoOutline",size:18,color:"gray",className:"ml-2"}),"به مبالغ فوق ٪۹ بابت مالیات بر ارزش افزوده اضافه می‌شود."]})]})}var P=s(47842),C=s(52216),M=s(23154),y=s(65916),O=s.n(y);function A(e){var i,s=e.planItem,l=e.activePlanId,n=e.setActivePlan,a=e.CROId,c=!!(null==s?void 0:s.planActiveDirectDebit);return(0,t.jsxs)("div",{"data-cro-id":a,onClick:n(s),className:(0,u.d)("w-full radius d-flex pointer flex-column py-1 px-4 user-select-none overflow-hidden",O().SubscriptionModalPlanSlide__planItem,(0,P.Z)({border:l!==s.planId},O()["SubscriptionModalPlanSlide__planItem--activated"],l===s.planId)),children:[(0,t.jsxs)("div",{className:"d-flex flex-column w-full ai-center pt-1 pb-2 border-b",children:[(0,t.jsx)(f.J,{size:30,icon:s.planIcon,color:(0,M.$)("color-plus-500")}),(0,t.jsx)("div",{className:"text-subtitle-strong color-700 text-no-wrap mt-2",children:(0,C.U)(s.planTitle)}),(0,t.jsxs)("div",{className:(0,u.d)("text-caption color-400",{"color-plus-500":c}),children:[(0,C.U)(s.planFreeShipmentCount)," ارسال رایگان"]})]}),(0,t.jsxs)("div",{className:"d-flex flex-column w-full pt-2",children:[(0,t.jsxs)("div",{className:(0,u.d)("d-flex jc-between",{"visibility-hidden":!(null==s?void 0:s.planPricePerMonth)}),children:[(0,t.jsx)("div",{className:"color-400 text-body2-strong",children:"ماهانه"}),(0,t.jsxs)("div",{className:"d-flex ai-center",children:[(0,t.jsx)("div",{className:"text-subtitle-strong color-800 ml-1",children:(0,j.j)(null!==(i=null==s?void 0:s.planPricePerMonth)&&void 0!==i?i:0)}),(0,t.jsx)(f.J,{icon:"toman",size:16})]})]}),c&&(0,t.jsx)("div",{className:"color-primary-700 text-caption align-center",children:(0,C.U)(s.planDirectDebitDiscountDescription)})]})]})}var k=s(31909),L=s(47072),z=s(64665),T=s(42306);function J(e){var i=e.className,s=[{image:"/statics/img/svg/digiplus/plus-service-delivery-active.svg",title:"ارسال رایگان",description:(0,T.d)(z.X.FLAT_SHIPPING)?"دریافت سفارش‌ها بدون پرداخت هزینه ارسال":"حتی سفارش‌های زیر ۵۰۰ تومان"},{image:"/statics/img/svg/digiplus/plus-service-early-access.svg",title:"دسترسی زودتر",description:"یک ساعت زودتر دسترسی به شگفت‌انگیز‌ها"},{image:"/statics/img/svg/digiplus/plus-service-cashback-active.svg",title:"هدیه نقدی",description:"بازگشت بخشی از مبلغ خرید به کیف شما"},{image:"/statics/img/svg/digiplus/plus-service-incredible-active.svg",title:"شگفت‌انگیز‌های اختصاصی",description:"۲ روز در ماه شگفت‌انگیز‌های اختصاصی"},{image:"/statics/img/svg/digiplus/plus-service-jet-active.svg",title:"ارسال فوری رایگان",description:"ارسال رایگان امروز یا فردا (فعلا برای تهران)"},{image:"/statics/img/svg/digiplus/plus-service-privilege-active.svg",title:"اولویت ویژه",description:"ظرفیت ارسال و پشتیبانی اختصاصی"},{image:"/statics/img/svg/digiplus/plus-service-return-active.svg",title:"مهلت بیشتر برای بازگشت کالا",description:"امکان بازگشت کالا تا ۳۰ روز پس از تحویل"},{image:"/statics/img/svg/digiplus/plus-service-fidiplus-active.svg",title:"اشتراک رایگان فیدی‌پلاس",description:"هزاران کتاب صوتی و الکترونیکی"}];return(0,t.jsxs)("div",{className:i,children:[(0,t.jsx)(L.D,{withLine:!0,color:"purple",title:"مزایای دیجی‌پلاس"}),(0,t.jsx)("div",{className:"d-grid grid-cols-2-lg grid-cols-1 gap-x-5-lg user-select-none",children:s.map(function(e){return(0,t.jsxs)("div",{className:"w-full d-flex ai-center",children:[(0,t.jsx)(k.E,{width:40,height:40,src:e.image,className:"ml-4"}),(0,t.jsxs)("div",{className:"d-flex flex-column my-2 border-b w-full",children:[(0,t.jsx)("h4",{className:"color-900 text-subtitle-strong align-right",children:e.title}),(0,t.jsx)("p",{className:"text-body-2 color-600",children:e.description})]})]},e.title)})})]})}var R=s(68882),U=s.n(R),E={prev:(0,u.d)("d-flex pos-absolute jc-center ai-center bg-000 pointer z-10 shadow-fab-button right-0",U().button,U()["button--prev"]),next:(0,u.d)("d-flex pos-absolute jc-center ai-center bg-000 pointer z-10 shadow-fab-button left-0",U().button,U()["button--next"]),disabled:"d-none"};function H(e){var i=e.isOpenModal,s=e.isDigiplusTemporaryModal,u=e.isHideDirectDebitPlans,v=e.onAddSubscriptionCallback,x=e.onCloseModal,f=(0,o.C)().isDesktop,b=(0,l.Z)((0,n.useState)([]),2),h=b[0],j=b[1],N=(0,l.Z)((0,n.useState)(),2),I=N[0],D=N[1],w=function(e){return function(){return D(e)}},P=I||{},C=P.planId,M=P.planActiveDirectDebit,y=P.planTotalPayablePrice,O=P.planMessage||{},k=O.planMessageTitle,L=O.planMessageDescription,z=(0,d.V)({disabled:!i,apiMethod:m,apiData:{isHideDirectDebit:void 0!==u&&u},onSuccess:function(e){var i=e.plans;(0,p.x)(i)||(j(i),D(i[0]))}}).pending;return(0,t.jsxs)(a.Modal,{shouldCloseOnOverlayClick:!1,width:600,height:"auto",isOpen:i,headerTitle:"خرید اشتراک دیجی‌پلاس",onDismiss:x,closeIconCroId:r.h.PLUS_ON_MODAL_CLOSE,footer:s?(0,t.jsx)(S,{price:y,pending:z,planId:C,onAddSubscriptionCallback:v,onCloseModal:x}):(0,t.jsx)(_,{price:y,pending:z,planId:C}),children:[(0,t.jsx)(c.i,{slides:!(0,p.x)(h)&&(null==h?void 0:h.map(function(e){return(0,t.jsx)(A,{planItem:e,activePlanId:C,setActivePlan:w,CROId:e.planCROId},e.planId)})),navigationButtonClassName:E,spaceBetween:12,slidesPerView:f?3:2}),M&&(0,t.jsx)(g,{title:k,description:L}),(0,t.jsx)(J,{})]})}},65916:function(e){e.exports={SubscriptionModalPlanSlide__planItem:"styles_SubscriptionModalPlanSlide__planItem__mrL54","SubscriptionModalPlanSlide__planItem--activated":"styles_SubscriptionModalPlanSlide__planItem--activated__dIZKs"}},68882:function(e){e.exports={button:"styles_button__1hf8f","button--prev":"styles_button--prev__Y8PJe","button--next":"styles_button--next__Wm8F0"}}}]);